{{ define "main" }}
  {{ $events := .Pages.ByDate }}
  {{ $events_upcoming := where $events ".Date" "ge" now }}
  {{ $events_past := where $events.Reverse ".Date" "lt" now }}

  <div class="max-w-md mx-auto px-4 pt-5">
    {{ partial "_components/page-heading.html" . }}

    <section class="pt-5 min-vh-100">
      {{range $events_upcoming}}
        <div class="relative w-full mb-8 border-b">
            {{.Render "item"}}
        </div>
      {{ end }}
      {{if $events_past}}
        {{$id := "events"}}
        <div class="mt-8">
          <h2>Past Events</h2>
          {{range $events_past}}
            <div class="relative w-full mb-8 border-b">
                {{.Render "item"}}
            </div>
          {{ end }}
        </div>
      {{ end }}
    </section>

  </div>
{{ end }}
